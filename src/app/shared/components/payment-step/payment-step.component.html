<div class="step-content">
    <h2>Payment Method</h2>

    <app-booking-summary
            [date]="date"
            [time]="time"
            [rooms]="rooms"
            [roomSummaries]="roomSummaries"
            [totalPlayers]="totalPlayers"
            [net]="net"
            [vat]="vat"
            [total]="total"
            [taxPercent]="taxPercent"
            [currency]="currency"

            [baseTotal]="baseTotal"
            [promoPercent]="promoPercent"
            [promoName]="promoName"
    ></app-booking-summary>

    <app-contact-details
            [customer]="store.customerInfo()"
            (customerChange)="store.setCustomerInfo($event)"
    ></app-contact-details>

    <div class="form-section">
        <h3>Choose Payment Method</h3>
        <app-payment-method-selector
                [paymentMethod]="paymentMethod"
                (paymentMethodChange)="paymentMethodChange.emit($event)"
        ></app-payment-method-selector>
    </div>

    <div class="step-actions">
        <app-button variant="outline" (clicked)="back.emit()">Back</app-button>
        <app-button
                (clicked)="submit.emit()"
                [disabled]="!paymentMethod || !isCustomerValid"
                [loading]="submitting"
        >
            {{ paymentMethod === 'ONLINE' ? 'Proceed to Payment' : 'Complete Booking' }}
        </app-button>
    </div>
</div>
