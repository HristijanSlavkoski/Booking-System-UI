<!DOCTYPE html>
<html lang="en">
<head>
    <title>VR Escape - Virtual Reality Escape Rooms</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description"
          content="Experience the ultimate VR escape room adventure. Book your immersive virtual reality experience today!"/>
    <base href="/">
    <script>
        (function () {
            let PARENT_ORIGIN = 'www.intetic.com';

            let lastHeight = 0;
            let ro = null;
            let rafId = 0;

            function getDocHeight() {
                const b = document.body, d = document.documentElement;
                return Math.max(
                    b ? b.scrollHeight : 0, d.scrollHeight,
                    b ? b.offsetHeight : 0, d.offsetHeight,
                    b ? b.clientHeight : 0, d.clientHeight
                );
            }

            function post(msg) {
                window.parent.postMessage(msg, PARENT_ORIGIN);
            }

            function postHeight(shrinkAware = true) {
                if (rafId) cancelAnimationFrame(rafId);
                rafId = requestAnimationFrame(() => {
                    const h = getDocHeight();
                    const shrank = shrinkAware && lastHeight && h < lastHeight - 80;
                    lastHeight = h;
                    post({type: 'booking-system:resize', height: h, shrank});
                });
            }

            function safeObserve(el) {
                if (el && el.nodeType === 1) { // Element nodes only
                    try {
                        ro.observe(el);
                    } catch (_) {
                    }
                }
            }

            // Wait until DOM is ready so body exists
            window.addEventListener('load', function () {
                // initial height
                postHeight(false);

                // set up ResizeObserver now that elements exist
                ro = new ResizeObserver(() => postHeight(true));

                // observe your main content root if you have one, else body/html
                const root =
                    document.getElementById('app') ||
                    document.getElementById('root') ||
                    document.body;

                safeObserve(root);
                safeObserve(document.documentElement);

                // periodic fallback (images/fonts/route changes)
                setInterval(() => postHeight(true), 800);
            });

            // optional API you can call after big UI transitions
            window.requestParentScrollToTop = function () {
                post({type: 'booking-system:scrollToTop'});
            };
        })();
    </script>


</head>
<body>
<app-root>Loading...</app-root>
</body>
</html>
