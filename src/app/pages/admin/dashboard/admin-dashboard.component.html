<!-- src/app/pages/admin/dashboard/admin-dashboard.component.html -->
<div class="admin-dashboard">
    <div class="dashboard-header">
        <h1>Admin Dashboard</h1>
        <p>Manage your VR escape room business</p>
    </div>

    @if (loading()) {
        <app-loading message="Loading dashboard..."></app-loading>
    } @else {
        <div class="dashboard-grid">
            <div class="stat-card card">
                <div class="stat-icon">üìÖ</div>
                <div class="stat-content">
                    <div class="stat-label">Today's Bookings</div>
                    <div class="stat-value">{{ stats().todayBookings }}</div>
                </div>
            </div>

            <div class="stat-card card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-content">
                    <div class="stat-label">Confirmed Today</div>
                    <div class="stat-value">{{ stats().confirmedToday }}</div>
                </div>
            </div>

            <div class="stat-card card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-content">
                    <div class="stat-label">Today's Revenue</div>
                    <div class="stat-value">{{ stats().todayRevenue }} MKD</div>
                </div>
            </div>

            <div class="stat-card card">
                <div class="stat-icon">üìä</div>
                <div class="stat-content">
                    <div class="stat-label">Total Bookings</div>
                    <div class="stat-value">{{ totalBookings() }}</div>
                </div>
            </div>
        </div>

        <div class="dashboard-actions">
            <h2>Quick Actions</h2>
            <div class="actions-grid">
                <app-button routerLink="/admin/schedule" variant="primary">
                    üìÖ View Schedule
                </app-button>
                <app-button routerLink="/admin/bookings" variant="secondary">
                    üìã Manage Bookings
                </app-button>
                <app-button routerLink="/admin/games" variant="secondary">
                    üéÆ Manage Games
                </app-button>
                <app-button routerLink="/admin/config" variant="secondary">
                    ‚öôÔ∏è Settings
                </app-button>
            </div>
        </div>

        <div class="recent-bookings">
            <h2>Recent Bookings</h2>
            @if (todayBookings().length > 0) {
                <div class="bookings-table">
                    <table>
                        <thead>
                        <tr>
                            <th>Time</th>
                            <th>Customer</th>
                            <th>Game</th>
                            <th>Players</th>
                            <th>Status</th>
                            <th>Payment Method</th>
                        </tr>
                        </thead>
                        <tbody>
                            @for (booking of todayBookings(); track booking.id) {
                                <tr>
                                    <td>{{ booking.bookingTime }}</td>
                                    <td>{{ booking.customerFirstName }} {{ booking.customerLastName }}</td>
                                    <td>{{ getGameName(booking) }}</td>
                                    <td>{{ getPlayerCount(booking) }}</td>
                                    <td>
                                        <span class="status-badge"
                                              [ngClass]="'status-' + booking.status.toLowerCase()">
                                          {{ booking.status }}
                                        </span>
                                    </td>
                                    <td>
                                        <span class="payment-badge"
                                              [ngClass]="'payment-' + booking.paymentMethod.toLowerCase()">
                                          {{ getPaymentLabel(booking.paymentMethod) }}
                                        </span>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            } @else {
                <p class="empty-message">No bookings for today</p>
            }
        </div>
    }
</div>
