<!DOCTYPE html>
<html lang="en">
<head>
    <title>VR Escape - Virtual Reality Escape Rooms</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description"
          content="Experience the ultimate VR escape room adventure. Book your immersive virtual reality experience today!"/>
    <base href="/">
    <script>
        (function () {
            // TODO:
            const PARENT_ORIGIN = 'https://intetic.com';
            let previousHeight = 0;

            function sendHeight() {
                let h = document.querySelector('.calendar-container')
                    || document.querySelector('.game-selection-container')
                    || document.querySelector('.players-container')
                    || document.querySelector('.booking-container');
                if (!h) return;

                let height = h.offsetHeight;
                if (Math.abs(height - previousHeight) <= 20) return;
                previousHeight = height;

                window.parent.postMessage({
                    type: 'booking-system:resize',
                    height
                }, PARENT_ORIGIN);
            }

            function sendRedirect(url) {
                if (!url) return;
                window.parent.postMessage({
                    type: 'booking-system:redirect',
                    url
                }, PARENT_ORIGIN);
            }

            // --- Public API for app code (so Angular can call these easily) ---
            window.BookingIframeAPI = {
                resize: sendHeight,
                redirect: sendRedirect
            };

            // Start periodic resize updates
            setInterval(sendHeight, 800);
        })();
    </script>
</head>
<body>
<app-root>
    <div class="loader">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>
</app-root>
</body>
</html>
